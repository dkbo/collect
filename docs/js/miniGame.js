webpackJsonp([7],{1018:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(81),a=i.n(s),h=i(82),n=i.n(h),o=i(85),r=i.n(o),c=i(83),l=i.n(c),w=i(84),u=i.n(w),d=i(3),m=i.n(d),f=(i(990),function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}()),y=function(t){function e(t){n()(this,e);var i=l()(this,(e.__proto__||a()(e)).call(this,t));return i.state={score:0,hp:10},i.x=50,i.y=100,i.w=15,i.h=20,i.sp=4,i.key={up:!1,right:!1,down:!1,left:!1},i.bow=[],i.wall=[],i.startGame=i.startGame.bind(i),i.animation=i.animation.bind(i),i}return u()(e,t),r()(e,[{key:"componentWillMount",value:function(){var t=this;window.addEventListener("keydown",function(e){switch(e.keyCode){case 32:t.bow.push({x:15+t.x,y:t.y+10});break;case 37:t.key.left=!0;break;case 38:t.key.up=!0;break;case 39:t.key.right=!0;break;case 40:t.key.down=!0}}),window.addEventListener("keyup",function(e){switch(e.keyCode){case 37:t.key.left=!1;break;case 38:t.key.up=!1;break;case 39:t.key.right=!1;break;case 40:t.key.down=!1}})}},{key:"componentDidMount",value:function(){this.startGame()}},{key:"setXY",value:function(t,e){this.x=t,this.y=e}},{key:"animation",value:function(){if(this.c.clearRect(0,0,9999,9999),this.c.beginPath(),this.c.lineWidth=1,this.c.rect(this.x,this.y,this.h,this.w),this.key.up&&this.y>0&&this.setXY(this.x,this.y-this.sp),this.key.right&&this.x+this.w<this.refs.canvas.width&&this.setXY(this.x+this.sp,this.y),this.key.down&&this.y+this.h<this.refs.canvas.height&&this.setXY(this.x,this.y+this.sp),this.key.left&&this.x>0&&this.setXY(this.x-this.sp,this.y),this.bow.length>0)for(var t in this.bow)if(this.bow[t].x=this.bow[t].x+5,this.bow[t].x>=this.refs.canvas.width)this.bow.splice(t,1),t--;else{if(this.wall.length>0){var e=!1;for(var i in this.wall){var s=this.bow[t].x+10>this.wall[i].x,a=this.bow[t].y-this.wall[i].y>0,h=this.bow[t].y-this.wall[i].h<=this.wall[i].y;if(s&&a&&h){this.wall.splice(i,1),e=!0;break}}if(e){this.setState({score:this.state.score+100}),this.bow.splice(t,1),t--;continue}}this.c.moveTo(this.bow[t].x,this.bow[t].y),this.c.lineTo(this.bow[t].x+10,this.bow[t].y)}if(this.c.closePath(),this.c.stroke(),this.wall.length>0)for(var n in this.wall)this.wall[n].x<0?(this.wall.splice(n,1),this.setState({hp:this.state.hp-1}),n--):(this.c.beginPath(),this.wall[n].x=this.wall[n].x-2,this.c.lineWidth=this.wall[n].w,this.c.moveTo(this.wall[n].x,this.wall[n].y),this.c.lineTo(this.wall[n].x,this.wall[n].y+this.wall[n].h),this.c.closePath(),this.c.stroke());0===this.random(0,33)&&this.wall.push({x:this.refs.canvas.width,y:this.random(0,this.refs.canvas.height-30),h:this.random(10,30),w:this.random(3,10)}),this.state.hp>0&&f(this.animation)}},{key:"random",value:function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},{key:"startGame",value:function(){var t=this;this.setState({score:0,hp:10},function(){t.refs.canvas.height=window.innerHeight,t.refs.canvas.width=window.innerWidth,t.c=t.refs.canvas.getContext("2d"),t.x=50,t.y=100,t.w=15,t.h=20,t.sp=4,t.key={up:!1,right:!1,down:!1,left:!1},t.bow=[],t.wall=[],f(t.animation)})}},{key:"render",value:function(){return m.a.createElement("div",{id:"miniGame"},this.state.hp?m.a.createElement("canvas",{ref:"canvas",id:"canvas1",width:"1200px",height:"1000px"}):m.a.createElement("div",{className:"gameover",onClick:this.startGame},"Game Over"),m.a.createElement("div",{className:"score"},m.a.createElement("strong",null,"Score:")," ",this.state.score,"/hp: ",this.state.hp))}}]),e}(d.Component),p=(function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"requestAFrame","E:/project/collect/src/page/miniGame/minigame.jsx"),__REACT_HOT_LOADER__.register(y,"MiniGame","E:/project/collect/src/page/miniGame/minigame.jsx"))}(),y);e.default=p,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(p,"default","E:/project/collect/src/page/miniGame/index.jsx")}()},990:function(t,e){}});