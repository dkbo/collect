webpackJsonp([8],{425:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e(575),h=s.a;i.default=h,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(h,"default","C:/Github/collect/src/page/miniGame/index.jsx")}()},575:function(t,i,e){"use strict";var s=e(68),h=e.n(s),n=e(69),a=e.n(n),o=e(72),r=e.n(o),c=e(71),l=e.n(c),w=e(70),u=e.n(w),d=e(3),f=e.n(d),y=e(607);e.n(y),e.d(i,"a",function(){return _});var m=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),_=function(t){function i(){return a()(this,i),l()(this,(i.__proto__||h()(i)).apply(this,arguments))}return u()(i,t),r()(i,[{key:"componentWillMount",value:function(){var t=this;window.addEventListener("keydown",function(i){switch(i.keyCode){case 32:t.bow.push({x:15+t.x,y:t.y+10}),console.log(t.bow);break;case 37:t.key.left=!0;break;case 38:t.key.up=!0;break;case 39:t.key.right=!0;break;case 40:t.key.down=!0}}),window.addEventListener("keyup",function(i){switch(i.keyCode){case 37:t.key.left=!1;break;case 38:t.key.up=!1;break;case 39:t.key.right=!1;break;case 40:t.key.down=!1}})}},{key:"componentDidMount",value:function(){this.refs.canvas.height=window.innerHeight,this.refs.canvas.width=window.innerWidth,this.c=this.refs.canvas.getContext("2d"),this.x=50,this.y=100,this.w=15,this.h=20,this.sp=4,this.key={up:!1,right:!1,down:!1,left:!1},this.bow=[],this.wall=[],this.animation()}},{key:"setXY",value:function(t,i){this.x=t,this.y=i}},{key:"animation",value:function(){if(this.c.clearRect(0,0,9999,9999),this.c.beginPath(),this.c.lineWidth=1,this.c.rect(this.x,this.y,this.h,this.w),this.key.up&&this.y>0&&this.setXY(this.x,this.y-this.sp),this.key.right&&this.x+this.w<this.refs.canvas.width&&this.setXY(this.x+this.sp,this.y),this.key.down&&this.y+this.h<this.refs.canvas.height&&this.setXY(this.x,this.y+this.sp),this.key.left&&this.x>0&&this.setXY(this.x-this.sp,this.y),this.bow.length>0)for(var t in this.bow)if(this.bow[t].x=this.bow[t].x+5,this.bow[t].x>=this.refs.canvas.width)this.bow.splice(t,1),t--;else{if(this.wall.length>0){var i=!1;for(var e in this.wall)if(this.bow[t].x+10>this.wall[e].x&&this.bow[t].y-this.wall[e].y>0&&this.bow[t].y-this.wall[e].h<=this.wall[e].h){i=!0;break}if(i){this.bow.splice(t,1),t--;continue}}this.c.moveTo(this.bow[t].x,this.bow[t].y),this.c.lineTo(this.bow[t].x+10,this.bow[t].y)}if(this.c.closePath(),this.c.stroke(),this.wall.length>0)for(var s in this.wall)this.wall[s].x<0?(this.wall.splice(s,1),s--):(this.c.beginPath(),this.wall[s].x=this.wall[s].x-2,this.c.lineWidth=this.wall[s].w,this.c.moveTo(this.wall[s].x,this.wall[s].y),this.c.lineTo(this.wall[s].x,this.wall[s].y+this.wall[s].h),this.c.closePath(),this.c.stroke());0===this.random(0,33)&&this.wall.push({x:this.refs.canvas.width,y:this.random(0,this.refs.canvas.height-30),h:this.random(10,30),w:this.random(3,10)}),m(this.animation.bind(this))}},{key:"random",value:function(t,i){return Math.floor(Math.random()*(i-t+1))+t}},{key:"render",value:function(){return f.a.createElement("div",{id:"miniGame"},f.a.createElement("canvas",{ref:"canvas",id:"canvas1",width:"1200px",height:"1000px"}))}}]),i}(d.Component);!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(m,"requestAFrame","C:/Github/collect/src/page/miniGame/minigame.jsx"),__REACT_HOT_LOADER__.register(_,"MiniGame","C:/Github/collect/src/page/miniGame/minigame.jsx"))}()},607:function(t,i){}});